var options={valueNames:["id","name","age","city"]},contactList=new List("contacts",options),idField=$("#id-field"),nameField=$("#name-field"),ageField=$("#age-field"),cityField=$("#city-field"),addBtn=$("#add-btn"),editBtn=$("#edit-btn").hide(),removeBtns=$(".remove-item-btn"),editBtns=$(".edit-item-btn");function refreshCallbacks(){removeBtns=$(removeBtns.selector),editBtns=$(editBtns.selector),removeBtns.click(function(){var e=$(this).closest("tr").find(".id").text();contactList.remove("id",e)}),editBtns.click(function(){var e=$(this).closest("tr").find(".id").text(),e=contactList.get("id",e)[0].values();idField.val(e.id),nameField.val(e.name),ageField.val(e.age),cityField.val(e.city),editBtn.show(),addBtn.hide()})}function clearFields(){nameField.val(""),ageField.val(""),cityField.val("")}refreshCallbacks(),addBtn.click(function(){contactList.add({id:Math.floor(11e4*Math.random()),name:nameField.val(),age:ageField.val(),city:cityField.val()}),clearFields(),refreshCallbacks()}),editBtn.click(function(){contactList.get("id",idField.val())[0].values({id:idField.val(),name:nameField.val(),age:ageField.val(),city:cityField.val()}),clearFields(),editBtn.hide(),addBtn.show()});